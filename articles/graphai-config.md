---
title: "GraphAIã®è¨­å®šå€¤ã‚’GraphAIã‹ã‚‰Agentã«æ¸¡ã™"
emoji: "ðŸ¤–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [agent, AI, LLM, Tech, GraphAI]
published: true
publication_name: "singularity"
---

:::message
GraphAIè¨˜äº‹ã®ä¸€è¦§ã¯[ã“ã¡ã‚‰](https://zenn.dev/singularity/articles/graphai-index)
:::

### Agentã®è¨­å®šã«ã¤ã„ã¦

Agentã«ã¯å‹•ä½œã®ãŸã‚ã«è¨­å®šå€¤ãŒå¿…è¦ãªå ´åˆãŒã‚ã‚Šã¾ã™ã€‚ä»£è¡¨çš„ãªä¾‹ã¨ã—ã¦ã€OpenAIã®LLMã‚’å‹•ä½œã•ã›ã‚‹ãŸã‚ã®APIã‚­ãƒ¼ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚

#### ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ã£ãŸè¨­å®š
- **ã‚µãƒ¼ãƒã‚„ãƒãƒƒãƒå‡¦ç†ã®å ´åˆ**  
  ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ã—ã¦ã€Agentå†…éƒ¨ã§åˆ©ç”¨ã—ã¦ã„ã‚‹LLMãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå¿…è¦ã¨ã™ã‚‹APIã‚­ãƒ¼ãªã©ã®è¨­å®šå€¤ã‚’æ¸¡ã™ã®ãŒæŽ¨å¥¨ã•ã‚Œã¾ã™ã€‚

- **ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®åˆ©ç”¨ã®å ´åˆ**  
  GraphAIã¯ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ã‚‚Agentã‚’å‹•ä½œã•ã›ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ãŒã€ã“ã®å ´åˆã€process.envã§ã®ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€ä»¥ä¸‹ã®æ–¹æ³•ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ï¼š
  1. **`params`ã§ç›´æŽ¥æ¸¡ã™æ–¹æ³•**  (éžæŽ¨å¥¨)
     è¨­å®šå€¤ã‚’Agentã®`params`ã«ç›´æŽ¥æŒ‡å®šã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
  2. **`config`ã‚’é€šã˜ã¦æ¸¡ã™æ–¹æ³•ï¼ˆæŽ¨å¥¨ï¼‰**  
     è¨­å®šå€¤ã¯`config`ã‚’ä½¿ç”¨ã—ã¦æ¸¡ã™ã®ãŒé©åˆ‡ã§ã™ã€‚

:::message
paramsã‚’ä½¿ã£ãŸè¨­å®šæ–¹æ³•ã¯ã€GraphDataå†…ã«ç§˜åŒ¿æƒ…å ±å«ã¾ã‚Œã‚‹ãŸã‚ç¾åœ¨ã¯æŽ¨å¥¨ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã¾ãŸã€åŒã˜Agentã‚’è¤‡æ•°å›žä½¿ã†å ´åˆã«ã¯ã€å…¨ã¦ã®paramsã«ãã®è¨­å®šã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚GraphDataã‚’ã‚µãƒ¼ãƒã¨ãƒ–ãƒ©ã‚¦ã‚¶ã§ä½¿ã†å ´åˆã«ã‚‚å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚
:::

#### `config`ã‚’ä½¿ã£ãŸè¨­å®šã®ä»•çµ„ã¿
- `config`ã¯GraphAIã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’é€šã˜ã¦Agentã«è¨­å®šå€¤ã‚’æ¸¡ã™ä»•çµ„ã¿ãŒã‚ã‚Šã¾ã™ã€‚
- ä»•æ§˜å¤‰æ›´ã®å½±éŸ¿ã§GraphAIã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ **0.6.14** ä»¥é™ã®åˆ©ç”¨ã‚’æŽ¨å¥¨ã—ã¾ã™ã€‚

#### `config`ã®ä¸»ãªç‰¹å¾´
- **Agentã”ã¨ã®è¨­å®š**  
  å„Agentã«å€‹åˆ¥ã®è¨­å®šå€¤ã‚’æ¸¡ã™ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
  `config: {[agentId]: { someKey: someValue}}`ã¨ã™ã‚‹ã¨ã€ãã®agentIdã®Agentã ã‘ã«å€¤ã‚’æ¸¡ã™ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
- **Globalè¨­å®š**  
  `global`ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ã™ã¹ã¦ã®Agentã«å…±é€šã®è¨­å®šå€¤ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚
  `config: {global: { someKey: someValue}}`
- `Global`ã¨`[agentId]`ã¯åŒæ™‚ã«åˆ©ç”¨ãŒå¯èƒ½ã§ã™
- `[agentId]`ã§å€‹åˆ¥ã«æŒ‡å®šã§ãã‚‹ã®ã§ã€apiKeyã®ã‚ˆã†ãªåå‰ã‚’ãã‚Œãžã‚Œã®agentã§ä½¿ã†ã“ã¨ãŒã§ãã€åå‰ã®è¡çªãŒã‚ã‚Šã¾ã›ã‚“ã€‚
- **Dynamic Agentã‚„Nested Graphã«å¯¾å¿œ**  
  å‹•çš„ã«æ±ºå®šã•ã‚Œã‚‹Agentã‚„ãƒã‚¹ãƒˆã•ã‚ŒãŸã‚°ãƒ©ãƒ•ã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚



## ä¾‹

globalã§ã‚µãƒ¼ãƒ“ã‚¹å…±é€šã®userIdã‚’å…¨ã¦ã®Agentã«æ¸¡ã—ã€testAgentã ã‘ã«apiKeyã‚’æ¸¡ã—ã¦ã„ã¾ã™ã€‚
userIdã¯ä»–ã®Agentã§ã‚‚åŒã˜ã‚ˆã†ã«å–å¾—ã§ãã¾ã™ã€‚

```TypeScript
import GraphAI from 'graphai';

const graphai = new GraphAI(graph, agent, {
  config: {
    global: {
      userId: 123,
    },
    testAgent: {
      apiKey: "someCredentialValue"
    },
    otherAgent: {
      apiKey: "someCredentialValue"
    },
  },
});

// agent
const testAgent: AgentFunction = async (namedInputs, config) => {
  const { userId, apiKey } = config;
  console.log(`User ID: ${userId}`); // 123
  ///
};
```

